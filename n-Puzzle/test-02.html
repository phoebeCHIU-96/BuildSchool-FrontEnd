<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <canvas id="canvas" style="width: 120px;" height="120px"></canvas>
    <div class="pic"></div>
    <script>
        
        puzzle();
        
        var pic = document.getElementsByClassName('pic')[0];
        function puzzle(){
           var canvas = document.getElementById('canvas'); //取得我的畫布dom
            var cavs=document.getElementById('canvas').getContext('2d'); //畫布樣式的dom
            var img = new Image();
            img.onload = function(){
                // let canvas;
                for(let i=0 ; i<4 ; i++){
                    for(let j=0 ; j<4 ;j++){
                        cavs.drawImage(img,j*120,i*120,120,120,0,0,118,118);
                        var dataURL = canvas.toDataURL();     //每做一張圖片分割,都會存圖片路徑,所以有16張
                        cavs.clearRect(0, 0, canvas.width, canvas.Height);//做清除的動作
                        let imgs=document.createElement('img');//產生一個圖片的dom
                        imgs.src=dataURL;//img去存我的分割後圖片路徑
                        pic.appendChild(imgs);//用一個div把分割的圖片都顯示出來
                    }
                }
            };
            img.setAttribute('src','view.png');
        }
    </script>
</body>
</html>